import React from 'react';
import StripeCheckout from 'react-stripe-checkout';

const StripeCheckoutButton = ({ price }) => {
  const priceForStripe = price * 100;
  const publishableKey = 'pk_test_WBqax2FWVzS9QlpJScO07iuL';

  const onToken = token => {
    console.log(token);
    alert('Payment Succesful!');
  };

  return (
    <StripeCheckout
      label="Pay Now"
      name="Spades Clothing"
      billingAddress
      shippingAddress
      image="data:image/png;base64,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"
      description={`Your total is $${price}`}
      amount={priceForStripe}
      panelLabel="Pay Now"
      token={onToken}
      stripeKey={publishableKey}
    />
  );
};

export default StripeCheckoutButton;
